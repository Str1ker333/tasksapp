<div class="tasklist container">
    <div class="list-title-container">
        <div class="select-form-container">
            <form
                action="/tasks/list"
                method="get"
                class="select-form"
                id="order-form"
            >
                <select id="order-container" name="order">
                    <option selected hidden>Ordenar</option>
                    {{#if (compare orderText "title ASC")}}
                        <option selected value="title ASC">Titulo (A-Z)</option>
                    {{else}}
                        <option value="title ASC">Titulo (A-Z)</option>
                    {{/if}}

                    {{#if (compare orderText "title DESC")}}
                        <option selected value="title DESC">Titulo (Z-A)</option>
                    {{else}}
                        <option value="title DESC">Titulo (Z-A)</option>
                    {{/if}}

                    {{#if (compare orderText "created_at DESC")}}
                        <option selected value="created_at DESC">Fecha de
                            Creación (Descendiente)</option>
                    {{else}}
                        <option value="created_at DESC">Fecha de Creación
                            (Descendiente)</option>
                    {{/if}}

                    {{#if (compare orderText "created_at ASC")}}
                        <option selected value="created_at ASC">Fecha de
                            Creación (Ascendente)</option>
                    {{else}}
                        <option value="created_at ASC">Fecha de Creación
                            (Ascendente)</option>
                    {{/if}}

                    {{#if (compare orderText "finish_at DESC")}}
                        <option selected value="finish_at DESC">Fecha de
                            Finalización (Descendiente)</option>
                    {{else}}
                        <option value="finish_at DESC">Fecha de Finalización
                            (Descendiente)</option>
                    {{/if}}

                    {{#if (compare orderText "finish_at ASC")}}
                        <option selected value="finish_at ASC">Fecha de
                            Finalización (Ascendente)</option>
                    {{else}}
                        <option value="finish_at ASC">Fecha de Finalización
                            (Ascendente)</option>
                    {{/if}}
                </select>
            </form>
            <form
                action="/tasks/list"
                method="get"
                class="select-form"
                id="done-select-form"
            >
                <select name="doned" id="done-select">
                    {{#if (compare doned "yes-done")}}
                        <option value="no-done">No Hechas</option>
                        <option selected value="yes-done">Hechas</option>
                    {{else}}
                        <option selected value="no-done">No Hechas</option>
                        <option value="yes-done">Hechas</option>
                    {{/if}}
                </select>
            </form>
        </div>
        <p class="list-title">Tareas</p>
        <div class="add-button-container">
            <button class="add-button button">
                <a href="/tasks/add">Agregar Tarea
                    <i class="gg-math-plus icon"></i></a>
            </button>
        </div>
    </div>
    <div class="list-container">
        {{#each tasks}}
            <div class="task-container element">
                <i class="gg-chevron-down expand-icon" id="expand-icon"></i>
                <div class="task-title-container">
                    {{#unless this.done}}
                        <form
                            action="/tasksDone"
                            method="post"
                            class="task-title-container"
                            id="done-form"
                        >
                            <input
                                type="hidden"
                                name="id"
                                value="{{this.id}}"
                            />
                            <input
                                type="checkbox"
                                name="done"
                                class="done-check"
                                id="done-check"
                            />
                        </form>
                    {{/unless}}
                    <h1 class="task-title">{{this.title}}</h1>
                </div>
                <p class="task-category category-expand">{{this.category}}</p>
                <div class="list-options-container options-expand">
                    <button class="button update-button">
                        <form action="/tasks/update" method="get">
                            <input
                                type="hidden"
                                name="id"
                                value="{{this.id}}"
                            />
                            <i class="gg-pen icon"></i>
                            <input
                                type="submit"
                                value="Modificar"
                                class="option-button"
                            />
                        </form>
                    </button>
                    <div class="button delete-button" id="delete-button">
                        <i class="gg-erase icon"></i>
                        <button class="option-button">Eliminar</button>
                    </div>
                    <button class="button detail-button">
                        <form action="/tasks/detail" method="get">
                            <input
                                type="hidden"
                                name="id"
                                value="{{this.id}}"
                            />
                            <i class="gg-menu-left icon"></i>
                            <input
                                type="submit"
                                value="Detalles"
                                class="option-button"
                            />
                        </form>

                    </button>
                </div>
            </div>
            <div class="blur-container" id="blur-container">
                <div class="confirm-container" id="confirm-container">
                    <p class="confirm-text">¿Está Seguro?</p>
                    <div class="confirm-buttons-container">
                        <form action="/tasksDelete" method="get">
                            <input
                                type="hidden"
                                name="id"
                                value="{{this.id}}"
                            />
                            <input type="submit" value="Si" class="button" />
                        </form>
                        <button class="button confirm-button-no">No</button>
                    </div>
                </div>
            </div>
        {{else}}
            {{#if (compare doned 'yes-done')}}
                <p class="no-tasks">No Hay Ninguna Tarea Hecha</p>
            {{else}}
                <p class="no-tasks">No Hay Ninguna Tarea Creada</p>
            {{/if}}
        {{/each}}
    </div>
</div>
